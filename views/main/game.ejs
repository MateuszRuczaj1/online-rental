<% layout('layouts/boilerplate') %>
    <%- include('../partials/searchBarGames') %>
        <%- include('../partials/filterCategories') %>
            <h1>Dostępne gry</h1>
            <%for(let game of games){ %>
                <div class="row">
                    <div class="col-12 col-lg-4 my-3">
                        <div class="card" style="height: 70%;">

                            <div class="card-body">
                                <h5 class="card-title">
                                    <%=game.title %>
                                </h5>
                                <p class="card-text description">
                                    <%=game.description %>
                                </p>
                            </div>
                            <a href="/games/<%=game._id %>" class="btn btn-primary mx-2 my-1" id="showMore">Pokaż
                                więcej</a>
                        </div>
                    </div>
                    <div class="col-lg-8 my-3">
                        <div class="card-img-top" style="height: 100%;">
                            <div id="carouselExampleControls<%=game._id%>" class="carousel slide w-100 h-100"
                                data-bs-ride="carousel" data-bs-interval="3000">
                                <div class="carousel-indicators">
                                    <button type="button" data-bs-target="carouselExampleControls<%=game._id%>"
                                        data-bs-slide-to="0" class="active" aria-current="true"
                                        aria-label="Slide 1"></button>
                                    <button type="button" data-bs-target="carouselExampleControls<%=game._id%>"
                                        data-bs-slide-to="1" aria-label="Slide 2"></button>
                                    <button type="button" data-bs-target="carouselExampleControls<%=game._id%>"
                                        data-bs-slide-to="2" aria-label="Slide 3"></button>
                                </div>

                                <div class="carousel-inner rounded">
                                    <div class="carousel-item active">
                                        <img class="d-block w-100" src="<%=game.imgs[0] %>" alt="First slide">
                                    </div>
                                    <div class="carousel-item">
                                        <img class="d-block w-100" src="<%=game.imgs[1]  %>" alt="Second slide">
                                    </div>
                                    <div class="carousel-item">
                                        <img class="d-block w-100" src="<%=game.imgs[2] %>" alt="Third slide">
                                    </div>
                                </div>
                                <a class="carousel-control-prev" href="#carouselExampleControls<%=game._id  %>"
                                    role="button" data-bs-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="sr-only "></span>
                                </a>
                                <a class="carousel-control-next" href="#carouselExampleControls<%=game.id  %>"
                                    role="button" data-bs-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="sr-only"></span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                </div>




                <%} %>
                    <style>
                        #showMore:hover {
                            background-color: white;
                            color: blue;

                        }

                        .carousel .item>img {
                            position: absolute;
                            top: 0;
                            left: 0;
                            max-width: 100%;
                            height: 100%;
                        }

                        .carousel-inner>.item>img {
                            position: absolute;
                            top: 0;
                            left: 0;
                            min-width: 100%;
                            height: 500px;
                        }

                        .description {
                            font-size: 0.8rem;
                        }

                        @media (min-width: 1200px) {
                            .description {
                                font-size: 1.1rem;
                            }
                        }
                    </style>